/* esm.sh - esbuild bundle(@radix-ui/react-popper@1.1.3) denonext production */
import D from"../../../../../../esm.sh/@babel/runtime@7.23.1/helpers/esm/extends.js";
import{useState as C,createElement as m,forwardRef as R,useRef as we,useEffect as he}from"../../../../../../esm.sh/preact@10.19.6/compat.js";
import{useFloating as ge,autoUpdate as ve,offset as xe,shift as Pe,limitShift as ye,flip as be,size as Ae,arrow as _e,hide as Ce}from"../../../../../../esm.sh/v132/_@floating-ui/react-dom@2.0.2.js";
import{Root as Se}from"../../../../../../esm.sh/v132/_@radix-ui/react-arrow@1.0.3.js";
import{useComposedRefs as j}from"../../../../../../esm.sh/v132/_@radix-ui/react-compose-refs@1.0.1.js";
import{createContextScope as Ye}from"../../../../../../esm.sh/v132/_@radix-ui/react-context@1.0.1.js";
import{Primitive as F}from"../../../../../../esm.sh/v132/_@radix-ui/react-primitive@1.0.3.js";
import{useCallbackRef as ke}from"../../../../../../esm.sh/v132/_@radix-ui/react-use-callback-ref@1.0.1.js";
import{useLayoutEffect as X}from"../../../../../../esm.sh/v132/_@radix-ui/react-use-layout-effect@1.0.1.js";
import{useSize as Oe}from"../../../../../../esm.sh/v132/_@radix-ui/react-use-size@1.0.1.js";
var Qe=["top","right","bottom","left"],et=["start","center","end"],M="Popper",[T,tt]=Ye(M),[Ve,B]=T(M),De=o=>{let{__scopePopper:i,children:r}=o,[t,a]=C(null);return m(Ve,{scope:i,anchor:t,onAnchorChange:a},r)},Re="PopperAnchor",Ee=R((o,i)=>{let{__scopePopper:r,virtualRef:t,...a}=o,e=B(Re,r),n=we(null),c=j(i,n);return he(()=>{e.onAnchorChange(t?.current||n.current)}),t?null:m(F.div,D({},a,{ref:c}))}),L="PopperContent",[Ne,He]=T(L),ze=R((o,i)=>{var r,t,a,e,n,c,u,l;let{__scopePopper:S,side:s="bottom",sideOffset:Y=0,align:d="center",alignOffset:w=0,arrowPadding:k=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:$=!1,updatePositionStrategy:Z="optimized",onPlaced:G,...E}=o,q=B(L,S),[O,J]=C(null),K=j(i,P=>J(P)),[V,Q]=C(null),v=Oe(V),ee=(r=v?.width)!==null&&r!==void 0?r:0,N=(t=v?.height)!==null&&t!==void 0?t:0,te=s+(d!=="center"?"-"+d:""),oe=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},H=Array.isArray(h)?h:[h],re=H.length>0,y={padding:oe,boundary:H.filter(je),altBoundary:re},{refs:ae,floatingStyles:z,placement:ne,isPositioned:b,middlewareData:x}=ge({strategy:"fixed",placement:te,whileElementsMounted:(...P)=>ve(...P,{animationFrame:Z==="always"}),elements:{reference:q.anchor},middleware:[xe({mainAxis:Y+N,alignmentAxis:w}),f&&Pe({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?ye():void 0,...y}),f&&be({...y}),Ae({...y,apply:({elements:P,rects:W,availableWidth:pe,availableHeight:$e})=>{let{width:me,height:ue}=W.reference,_=P.floating.style;_.setProperty("--radix-popper-available-width",`${pe}px`),_.setProperty("--radix-popper-available-height",`${$e}px`),_.setProperty("--radix-popper-anchor-width",`${me}px`),_.setProperty("--radix-popper-anchor-height",`${ue}px`)}}),V&&_e({element:V,padding:k}),Fe({arrowWidth:ee,arrowHeight:N}),$&&Ce({strategy:"referenceHidden",...y})]}),[I,ie]=U(ne),A=ke(G);X(()=>{b&&A?.()},[b,A]);let se=(a=x.arrow)===null||a===void 0?void 0:a.x,de=(e=x.arrow)===null||e===void 0?void 0:e.y,ce=((n=x.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,[le,fe]=C();return X(()=>{O&&fe(window.getComputedStyle(O).zIndex)},[O]),m("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:b?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(c=x.transformOrigin)===null||c===void 0?void 0:c.x,(u=x.transformOrigin)===null||u===void 0?void 0:u.y].join(" ")},dir:o.dir},m(Ne,{scope:S,placedSide:I,onArrowChange:Q,arrowX:se,arrowY:de,shouldHideArrow:ce},m(F.div,D({"data-side":I,"data-align":ie},E,{ref:K,style:{...E.style,animation:b?void 0:"none",opacity:(l=x.hide)!==null&&l!==void 0&&l.referenceHidden?0:void 0}}))))}),Ie="PopperArrow",We={top:"bottom",right:"left",bottom:"top",left:"right"},Xe=R(function(i,r){let{__scopePopper:t,...a}=i,e=He(Ie,t),n=We[e.placedSide];return m("span",{ref:e.onArrowChange,style:{position:"absolute",left:e.arrowX,top:e.arrowY,[n]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[e.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[e.placedSide],visibility:e.shouldHideArrow?"hidden":void 0}},m(Se,D({},a,{ref:r,style:{...a.style,display:"block"}})))});function je(o){return o!==null}var Fe=o=>({name:"transformOrigin",options:o,fn(i){var r,t,a,e,n;let{placement:c,rects:u,middlewareData:l}=i,s=((r=l.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,Y=s?0:o.arrowWidth,d=s?0:o.arrowHeight,[w,k]=U(c),f={start:"0%",center:"50%",end:"100%"}[k],h=((t=(a=l.arrow)===null||a===void 0?void 0:a.x)!==null&&t!==void 0?t:0)+Y/2,g=((e=(n=l.arrow)===null||n===void 0?void 0:n.y)!==null&&e!==void 0?e:0)+d/2,p="",$="";return w==="bottom"?(p=s?f:`${h}px`,$=`${-d}px`):w==="top"?(p=s?f:`${h}px`,$=`${u.floating.height+d}px`):w==="right"?(p=`${-d}px`,$=s?f:`${g}px`):w==="left"&&(p=`${u.floating.width+d}px`,$=s?f:`${g}px`),{data:{x:p,y:$}}}});function U(o){let[i,r="center"]=o.split("-");return[i,r]}var ot=De,rt=Ee,at=ze,nt=Xe;export{et as ALIGN_OPTIONS,rt as Anchor,nt as Arrow,at as Content,De as Popper,Ee as PopperAnchor,Xe as PopperArrow,ze as PopperContent,ot as Root,Qe as SIDE_OPTIONS,tt as createPopperScope};
//# sourceMappingURL=react-popper.mjs.map