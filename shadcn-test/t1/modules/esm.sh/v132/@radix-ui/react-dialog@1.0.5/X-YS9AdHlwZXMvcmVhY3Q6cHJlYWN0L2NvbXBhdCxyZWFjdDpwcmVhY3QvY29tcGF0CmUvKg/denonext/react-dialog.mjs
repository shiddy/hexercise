/* esm.sh - esbuild bundle(@radix-ui/react-dialog@1.0.5) denonext production */
import l from"../../../../../../esm.sh/@babel/runtime@7.23.1/helpers/esm/extends.js";
import{useRef as p,createElement as a,useCallback as A,forwardRef as $,Children as H,useEffect as M,Fragment as T}from"../../../../../../esm.sh/preact@10.19.6/compat.js";
import{composeEventHandlers as g}from"../../../../../../esm.sh/_@radix-ui/primitive@1.0.1.js";
import{useComposedRefs as C}from"../../../../../../esm.sh/v132/_@radix-ui/react-compose-refs@1.0.1.js";
import{createContextScope as F,createContext as U}from"../../../../../../esm.sh/v132/_@radix-ui/react-context@1.0.1.js";
import{useId as v}from"../../../../../../esm.sh/v132/_@radix-ui/react-id@1.0.1.js";
import{useControllableState as S}from"../../../../../../esm.sh/v132/_@radix-ui/react-use-controllable-state@1.0.1.js";
import{DismissableLayer as w}from"../../../../../../esm.sh/v132/_@radix-ui/react-dismissable-layer@1.0.5.js";
import{FocusScope as W}from"../../../../../../esm.sh/v132/_@radix-ui/react-focus-scope@1.0.4.js";
import{Portal as k}from"../../../../../../esm.sh/v132/_@radix-ui/react-portal@1.0.4.js";
import{Presence as x}from"../../../../../../esm.sh/v132/_@radix-ui/react-presence@1.0.1.js";
import{Primitive as m}from"../../../../../../esm.sh/v132/_@radix-ui/react-primitive@1.0.3.js";
import{useFocusGuards as G}from"../../../../../../esm.sh/v132/_@radix-ui/react-focus-guards@1.0.1.js";
import{RemoveScroll as L}from"../../../../../../esm.sh/v132/_react-remove-scroll@2.5.6.js";
import{hideOthers as j}from"../../../../../../esm.sh/aria-hidden@1.2.3.js";
import{Slot as B}from"../../../../../../esm.sh/v132/_@radix-ui/react-slot@1.0.2.js";
var E="Dialog",[h,Ee]=F(E),[V,d]=h(E),q=e=>{let{__scopeDialog:r,children:n,open:c,defaultOpen:t,onOpenChange:o,modal:s=!0}=e,i=p(null),u=p(null),[b=!1,D]=S({prop:c,defaultProp:t,onChange:o});return a(V,{scope:r,triggerRef:i,contentRef:u,contentId:v(),titleId:v(),descriptionId:v(),open:b,onOpenChange:D,onOpenToggle:A(()=>D(I=>!I),[D]),modal:s},n)},K="DialogTrigger",Y=$((e,r)=>{let{__scopeDialog:n,...c}=e,t=d(K,n),o=C(r,t.triggerRef);return a(m.button,l({type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":O(t.open)},c,{ref:o,onClick:g(e.onClick,t.onOpenToggle)}))}),R="DialogPortal",[Z,P]=h(R,{forceMount:void 0}),z=e=>{let{__scopeDialog:r,forceMount:n,children:c,container:t}=e,o=d(R,r);return a(Z,{scope:r,forceMount:n},H.map(c,s=>a(x,{present:n||o.open},a(k,{asChild:!0,container:t},s))))},_="DialogOverlay",J=$((e,r)=>{let n=P(_,e.__scopeDialog),{forceMount:c=n.forceMount,...t}=e,o=d(_,e.__scopeDialog);return o.modal?a(x,{present:c||o.open},a(Q,l({},t,{ref:r}))):null}),Q=$((e,r)=>{let{__scopeDialog:n,...c}=e,t=d(_,n);return a(L,{as:B,allowPinchZoom:!0,shards:[t.contentRef]},a(m.div,l({"data-state":O(t.open)},c,{ref:r,style:{pointerEvents:"auto",...c.style}})))}),f="DialogContent",X=$((e,r)=>{let n=P(f,e.__scopeDialog),{forceMount:c=n.forceMount,...t}=e,o=d(f,e.__scopeDialog);return a(x,{present:c||o.open},o.modal?a(ee,l({},t,{ref:r})):a(oe,l({},t,{ref:r})))}),ee=$((e,r)=>{let n=d(f,e.__scopeDialog),c=p(null),t=C(r,n.contentRef,c);return M(()=>{let o=c.current;if(o)return j(o)},[]),a(y,l({},e,{ref:t,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:g(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:g(e.onPointerDownOutside,o=>{let s=o.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&o.preventDefault()}),onFocusOutside:g(e.onFocusOutside,o=>o.preventDefault())}))}),oe=$((e,r)=>{let n=d(f,e.__scopeDialog),c=p(!1),t=p(!1);return a(y,l({},e,{ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,o),!o.defaultPrevented){var i;c.current||(i=n.triggerRef.current)===null||i===void 0||i.focus(),o.preventDefault()}c.current=!1,t.current=!1},onInteractOutside:o=>{var s,i;(s=e.onInteractOutside)===null||s===void 0||s.call(e,o),o.defaultPrevented||(c.current=!0,o.detail.originalEvent.type==="pointerdown"&&(t.current=!0));let u=o.target;((i=n.triggerRef.current)===null||i===void 0?void 0:i.contains(u))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&t.current&&o.preventDefault()}}))}),y=$((e,r)=>{let{__scopeDialog:n,trapFocus:c,onOpenAutoFocus:t,onCloseAutoFocus:o,...s}=e,i=d(f,n),u=p(null),b=C(r,u);return G(),a(T,null,a(W,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:t,onUnmountAutoFocus:o},a(w,l({role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":O(i.open)},s,{ref:b,onDismiss:()=>i.onOpenChange(!1)}))),!1)}),N="DialogTitle",te=$((e,r)=>{let{__scopeDialog:n,...c}=e,t=d(N,n);return a(m.h2,l({id:t.titleId},c,{ref:r}))}),ne="DialogDescription",ce=$((e,r)=>{let{__scopeDialog:n,...c}=e,t=d(ne,n);return a(m.p,l({id:t.descriptionId},c,{ref:r}))}),re="DialogClose",se=$((e,r)=>{let{__scopeDialog:n,...c}=e,t=d(re,n);return a(m.button,l({type:"button"},c,{ref:r,onClick:g(e.onClick,()=>t.onOpenChange(!1))}))});function O(e){return e?"open":"closed"}var ae="DialogTitleWarning",[he,Re]=U(ae,{contentName:f,titleName:N,docsSlug:"dialog"});var Pe=q,ye=Y,Ne=z,Ie=J,Ae=X,He=te,Me=ce,Te=se;export{Te as Close,Ae as Content,Me as Description,q as Dialog,se as DialogClose,X as DialogContent,ce as DialogDescription,J as DialogOverlay,z as DialogPortal,te as DialogTitle,Y as DialogTrigger,Ie as Overlay,Ne as Portal,Pe as Root,He as Title,ye as Trigger,he as WarningProvider,Ee as createDialogScope};
//# sourceMappingURL=react-dialog.mjs.map