/* esm.sh - esbuild bundle(@radix-ui/react-collapsible@1.0.3) denonext production */
import f from"../../../../../../esm.sh/@babel/runtime@7.23.1/helpers/esm/extends.js";
import{forwardRef as u,createElement as l,useCallback as N,useState as O,useRef as p,useEffect as S}from"../../../../../../esm.sh/preact@10.19.6/compat.js";
import{composeEventHandlers as I}from"../../../../../../esm.sh/_@radix-ui/primitive@1.0.1.js";
import{createContextScope as A}from"../../../../../../esm.sh/v132/_@radix-ui/react-context@1.0.1.js";
import{useControllableState as T}from"../../../../../../esm.sh/v132/_@radix-ui/react-use-controllable-state@1.0.1.js";
import{useLayoutEffect as w}from"../../../../../../esm.sh/v132/_@radix-ui/react-use-layout-effect@1.0.1.js";
import{useComposedRefs as M}from"../../../../../../esm.sh/v132/_@radix-ui/react-compose-refs@1.0.1.js";
import{Primitive as g}from"../../../../../../esm.sh/v132/_@radix-ui/react-primitive@1.0.3.js";
import{Presence as D}from"../../../../../../esm.sh/v132/_@radix-ui/react-presence@1.0.1.js";
import{useId as L}from"../../../../../../esm.sh/v132/_@radix-ui/react-id@1.0.1.js";
var R="Collapsible",[k,ne]=A(R),[j,x]=k(R),F=u((e,s)=>{let{__scopeCollapsible:a,open:o,defaultOpen:t,disabled:i,onOpenChange:r,...b}=e,[d=!1,c]=T({prop:o,defaultProp:t,onChange:r});return l(j,{scope:a,disabled:i,contentId:L(),open:d,onOpenToggle:N(()=>c(m=>!m),[c])},l(g.div,f({"data-state":h(d),"data-disabled":i?"":void 0},b,{ref:s})))}),B="CollapsibleTrigger",G=u((e,s)=>{let{__scopeCollapsible:a,...o}=e,t=x(B,a);return l(g.button,f({type:"button","aria-controls":t.contentId,"aria-expanded":t.open||!1,"data-state":h(t.open),"data-disabled":t.disabled?"":void 0,disabled:t.disabled},o,{ref:s,onClick:I(e.onClick,t.onOpenToggle)}))}),E="CollapsibleContent",H=u((e,s)=>{let{forceMount:a,...o}=e,t=x(E,e.__scopeCollapsible);return l(D,{present:a||t.open},({present:i})=>l(q,f({},o,{ref:s,present:i})))}),q=u((e,s)=>{let{__scopeCollapsible:a,present:o,children:t,...i}=e,r=x(E,a),[b,d]=O(o),c=p(null),m=M(s,c),_=p(0),v=_.current,y=p(0),K=y.current,C=r.open||b,P=p(C),$=p();return S(()=>{let n=requestAnimationFrame(()=>P.current=!1);return()=>cancelAnimationFrame(n)},[]),w(()=>{let n=c.current;if(n){$.current=$.current||{transitionDuration:n.style.transitionDuration,animationName:n.style.animationName},n.style.transitionDuration="0s",n.style.animationName="none";let Q=n.getBoundingClientRect();_.current=Q.height,y.current=Q.width,P.current||(n.style.transitionDuration=$.current.transitionDuration,n.style.animationName=$.current.animationName),d(o)}},[r.open,o]),l(g.div,f({"data-state":h(r.open),"data-disabled":r.disabled?"":void 0,id:r.contentId,hidden:!C},i,{ref:m,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":K?`${K}px`:void 0,...e.style}}),C&&t)});function h(e){return e?"open":"closed"}var oe=F,se=G,ae=H;export{F as Collapsible,H as CollapsibleContent,G as CollapsibleTrigger,ae as Content,oe as Root,se as Trigger,ne as createCollapsibleScope};
//# sourceMappingURL=react-collapsible.mjs.map