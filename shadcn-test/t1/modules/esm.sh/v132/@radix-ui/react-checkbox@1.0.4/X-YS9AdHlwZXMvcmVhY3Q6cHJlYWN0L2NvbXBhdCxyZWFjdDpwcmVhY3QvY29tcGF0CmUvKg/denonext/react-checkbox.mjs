/* esm.sh - esbuild bundle(@radix-ui/react-checkbox@1.0.4) denonext production */
import k from"../../../../../../esm.sh/@babel/runtime@7.23.1/helpers/esm/extends.js";
import{forwardRef as P,useState as O,useRef as C,useEffect as y,createElement as p}from"../../../../../../esm.sh/preact@10.19.6/compat.js";
import{useComposedRefs as D}from"../../../../../../esm.sh/v132/_@radix-ui/react-compose-refs@1.0.1.js";
import{createContextScope as M}from"../../../../../../esm.sh/v132/_@radix-ui/react-context@1.0.1.js";
import{composeEventHandlers as E}from"../../../../../../esm.sh/_@radix-ui/primitive@1.0.1.js";
import{useControllableState as N}from"../../../../../../esm.sh/v132/_@radix-ui/react-use-controllable-state@1.0.1.js";
import{usePrevious as q}from"../../../../../../esm.sh/v132/_@radix-ui/react-use-previous@1.0.1.js";
import{useSize as B}from"../../../../../../esm.sh/v132/_@radix-ui/react-use-size@1.0.1.js";
import{Presence as H}from"../../../../../../esm.sh/v132/_@radix-ui/react-presence@1.0.1.js";
import{Primitive as g}from"../../../../../../esm.sh/v132/_@radix-ui/react-primitive@1.0.3.js";
var R="Checkbox",[j,te]=M(R),[z,A]=j(R),K=P((e,u)=>{let{__scopeCheckbox:t,name:a,checked:b,defaultChecked:n,required:l,disabled:c,value:i="on",onCheckedChange:f,...x}=e,[r,m]=O(null),I=D(u,o=>m(o)),v=C(!1),S=r?!!r.closest("form"):!0,[d=!1,h]=N({prop:b,defaultProp:n,onChange:f}),w=C(d);return y(()=>{let o=r?.form;if(o){let $=()=>h(w.current);return o.addEventListener("reset",$),()=>o.removeEventListener("reset",$)}},[r,h]),p(z,{scope:t,state:d,disabled:c},p(g.button,k({type:"button",role:"checkbox","aria-checked":s(d)?"mixed":d,"aria-required":l,"data-state":_(d),"data-disabled":c?"":void 0,disabled:c,value:i},x,{ref:I,onKeyDown:E(e.onKeyDown,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:E(e.onClick,o=>{h($=>s($)?!0:!$),S&&(v.current=o.isPropagationStopped(),v.current||o.stopPropagation())})})),S&&p(X,{control:r,bubbles:!v.current,name:a,value:i,checked:d,required:l,disabled:c,style:{transform:"translateX(-100%)"}}))}),L="CheckboxIndicator",T=P((e,u)=>{let{__scopeCheckbox:t,forceMount:a,...b}=e,n=A(L,t);return p(H,{present:a||s(n.state)||n.state===!0},p(g.span,k({"data-state":_(n.state),"data-disabled":n.disabled?"":void 0},b,{ref:u,style:{pointerEvents:"none",...e.style}})))}),X=e=>{let{control:u,checked:t,bubbles:a=!0,...b}=e,n=C(null),l=q(t),c=B(u);return y(()=>{let i=n.current,f=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==t&&r){let m=new Event("click",{bubbles:a});i.indeterminate=s(t),r.call(i,s(t)?!1:t),i.dispatchEvent(m)}},[l,t,a]),p("input",k({type:"checkbox","aria-hidden":!0,defaultChecked:s(t)?!1:t},b,{tabIndex:-1,ref:n,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function s(e){return e==="indeterminate"}function _(e){return s(e)?"indeterminate":e?"checked":"unchecked"}var oe=K,re=T;export{K as Checkbox,T as CheckboxIndicator,re as Indicator,oe as Root,te as createCheckboxScope};
//# sourceMappingURL=react-checkbox.mjs.map