/* esm.sh - esbuild bundle(react-remove-scroll@2.5.6) denonext production */
import{__assign as de}from"../../../../../esm.sh/tslib@2.6.2.js";
import*as Y from"../../../../../esm.sh/preact@10.19.6/compat.js";
import{__assign as L,__rest as J}from"../../../../../esm.sh/tslib@2.6.2.js";
import*as i from"../../../../../esm.sh/preact@10.19.6/compat.js";
import{fullWidthClassName as K,zeroRightClassName as U}from"../../../../../esm.sh/react-remove-scroll-bar@2.3.4/constants.js";
import{useMergeRefs as $}from"../../../../../esm.sh/v132/_use-callback-ref@1.3.0.js";
import{createSidecarMedium as G}from"../../../../../esm.sh/v132/_use-sidecar@1.1.2.js";
var N=G();var D=function(){},M=i.forwardRef(function(e,t){var c=i.useRef(null),o=i.useState({onScrollCapture:D,onWheelCapture:D,onTouchMoveCapture:D}),u=o[0],s=o[1],d=e.forwardProps,l=e.children,R=e.className,g=e.removeScrollBar,w=e.enabled,C=e.shards,b=e.sideCar,y=e.noIsolation,E=e.inert,r=e.allowPinchZoom,n=e.as,v=n===void 0?"div":n,h=e.gapMode,m=J(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=b,f=$([c,t]),p=L(L({},m),u);return i.createElement(i.Fragment,null,w&&i.createElement(S,{sideCar:N,removeScrollBar:g,shards:C,noIsolation:y,inert:E,setCallbacks:s,allowPinchZoom:!!r,lockRef:c,gapMode:h}),d?i.cloneElement(i.Children.only(l),L(L({},p),{ref:f})):i.createElement(v,L({},p,{className:R,ref:f}),l))});M.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};M.classNames={fullWidth:K,zeroRight:U};
import{exportSidecar as se}from"../../../../../esm.sh/v132/_use-sidecar@1.1.2.js";
import{__spreadArray as oe}from"../../../../../esm.sh/tslib@2.6.2.js";
import*as a from"../../../../../esm.sh/preact@10.19.6/compat.js";
import{RemoveScrollBar as ce}from"../../../../../esm.sh/v132/_react-remove-scroll-bar@2.3.4.js";
import{styleSingleton as le}from"../../../../../esm.sh/v132/_react-style-singleton@2.2.1.js";
var W=!1;if(typeof window<"u")try{x=Object.defineProperty({},"passive",{get:function(){return W=!0,!0}}),window.addEventListener("test",x,x),window.removeEventListener("test",x,x)}catch{W=!1}var x,k=W?{passive:!1}:!1;var O=function(e){return e.tagName==="TEXTAREA"},H=function(e,t){var c=window.getComputedStyle(e);return c[t]!=="hidden"&&!(c.overflowY===c.overflowX&&!O(e)&&c[t]==="visible")},ee=function(e){return H(e,"overflowY")},re=function(e){return H(e,"overflowX")},I=function(e,t){var c=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var u=V(e,o);if(u){var s=Z(e,o),d=s[1],l=s[2];if(d>l)return!0}o=o.parentNode}while(o&&o!==c.body);return!1},te=function(e){var t=e.scrollTop,c=e.scrollHeight,o=e.clientHeight;return[t,c,o]},ae=function(e){var t=e.scrollLeft,c=e.scrollWidth,o=e.clientWidth;return[t,c,o]},V=function(e,t){return e==="v"?ee(t):re(t)},Z=function(e,t){return e==="v"?te(t):ae(t)},ne=function(e,t){return e==="h"&&t==="rtl"?-1:1},F=function(e,t,c,o,u){var s=ne(e,window.getComputedStyle(t).direction),d=s*o,l=c.target,R=t.contains(l),g=!1,w=d>0,C=0,b=0;do{var y=Z(e,l),E=y[0],r=y[1],n=y[2],v=r-n-s*E;(E||v)&&V(e,l)&&(C+=v,b+=E),l=l.parentNode}while(!R&&l!==document.body||R&&(t.contains(l)||t===l));return(w&&(u&&C===0||!u&&d>C)||!w&&(u&&b===0||!u&&-d>b))&&(g=!0),g};var X=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},z=function(e){return[e.deltaX,e.deltaY]},_=function(e){return e&&"current"in e?e.current:e},ie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fe=0,B=[];function j(e){var t=a.useRef([]),c=a.useRef([0,0]),o=a.useRef(),u=a.useState(fe++)[0],s=a.useState(le)[0],d=a.useRef(e);a.useEffect(function(){d.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(u));var r=oe([e.lockRef.current],(e.shards||[]).map(_),!0).filter(Boolean);return r.forEach(function(n){return n.classList.add("allow-interactivity-".concat(u))}),function(){document.body.classList.remove("block-interactivity-".concat(u)),r.forEach(function(n){return n.classList.remove("allow-interactivity-".concat(u))})}}},[e.inert,e.lockRef.current,e.shards]);var l=a.useCallback(function(r,n){if("touches"in r&&r.touches.length===2)return!d.current.allowPinchZoom;var v=X(r),h=c.current,m="deltaX"in r?r.deltaX:h[0]-v[0],S="deltaY"in r?r.deltaY:h[1]-v[1],f,p=r.target,P=Math.abs(m)>Math.abs(S)?"h":"v";if("touches"in r&&P==="h"&&p.type==="range")return!1;var T=I(P,p);if(!T)return!0;if(T?f=P:(f=P==="v"?"h":"v",T=I(P,p)),!T)return!1;if(!o.current&&"changedTouches"in r&&(m||S)&&(o.current=f),!f)return!0;var A=o.current||f;return F(A,n,r,A==="h"?m:S,!0)},[]),R=a.useCallback(function(r){var n=r;if(!(!B.length||B[B.length-1]!==s)){var v="deltaY"in n?z(n):X(n),h=t.current.filter(function(f){return f.name===n.type&&f.target===n.target&&ie(f.delta,v)})[0];if(h&&h.should){n.cancelable&&n.preventDefault();return}if(!h){var m=(d.current.shards||[]).map(_).filter(Boolean).filter(function(f){return f.contains(n.target)}),S=m.length>0?l(n,m[0]):!d.current.noIsolation;S&&n.cancelable&&n.preventDefault()}}},[]),g=a.useCallback(function(r,n,v,h){var m={name:r,delta:n,target:v,should:h};t.current.push(m),setTimeout(function(){t.current=t.current.filter(function(S){return S!==m})},1)},[]),w=a.useCallback(function(r){c.current=X(r),o.current=void 0},[]),C=a.useCallback(function(r){g(r.type,z(r),r.target,l(r,e.lockRef.current))},[]),b=a.useCallback(function(r){g(r.type,X(r),r.target,l(r,e.lockRef.current))},[]);a.useEffect(function(){return B.push(s),e.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:b}),document.addEventListener("wheel",R,k),document.addEventListener("touchmove",R,k),document.addEventListener("touchstart",w,k),function(){B=B.filter(function(r){return r!==s}),document.removeEventListener("wheel",R,k),document.removeEventListener("touchmove",R,k),document.removeEventListener("touchstart",w,k)}},[]);var y=e.removeScrollBar,E=e.inert;return a.createElement(a.Fragment,null,E?a.createElement(s,{styles:ue(u)}):null,y?a.createElement(ce,{gapMode:e.gapMode}):null)}var Q=se(N,j);var q=Y.forwardRef(function(e,t){return Y.createElement(M,de({},e,{ref:t,sideCar:Q}))});q.classNames=M.classNames;var ve=q;export{ve as RemoveScroll};
//# sourceMappingURL=react-remove-scroll.mjs.map