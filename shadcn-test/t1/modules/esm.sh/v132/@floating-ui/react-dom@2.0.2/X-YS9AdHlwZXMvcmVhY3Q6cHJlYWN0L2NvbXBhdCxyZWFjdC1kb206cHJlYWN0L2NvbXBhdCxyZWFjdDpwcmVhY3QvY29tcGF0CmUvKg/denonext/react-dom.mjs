/* esm.sh - esbuild bundle(@floating-ui/react-dom@2.0.2) denonext production */
import{arrow as A,computePosition as I}from"../../../../../../esm.sh/v132/@floating-ui/dom@1.5.3.js";
import{autoPlacement as Z,autoUpdate as b,computePosition as ee,detectOverflow as te,flip as re,getOverflowAncestors as ne,hide as fe,inline as oe,limitShift as ie,offset as ce,platform as ue,shift as se,size as ae}from"../../../../../../esm.sh/v132/@floating-ui/dom@1.5.3.js";
import*as f from"../../../../../../esm.sh/preact@10.19.6/compat.js";
import{useLayoutEffect as J,useEffect as K}from"../../../../../../esm.sh/preact@10.19.6/compat.js";
import*as q from"../../../../../../esm.sh/preact@10.19.6/compat.js";
var T=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){let{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?A({element:n.current,padding:i}).fn(r):{}:n?A({element:n,padding:i}).fn(r):{}}}},w=typeof document<"u"?J:K;function h(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!h(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){let d=i[n];if(!(d==="_owner"&&e.$$typeof)&&!h(e[d],t[d]))return!1}return!0}return e!==e&&t!==t}function z(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function L(e,t){let r=z(e);return Math.round(t*r)/r}function $(e){let t=f.useRef(e);return w(()=>{t.current=e}),t}function W(e){e===void 0&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:d,floating:B}={},transform:D=!0,whileElementsMounted:U,open:O}=e,[c,k]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[P,V]=f.useState(n);h(P,n)||V(n);let[G,E]=f.useState(null),[H,_]=f.useState(null),v=f.useCallback(o=>{o!=l.current&&(l.current=o,E(o))},[E]),C=f.useCallback(o=>{o!==m.current&&(m.current=o,_(o))},[_]),u=d||G,s=B||H,l=f.useRef(null),m=f.useRef(null),g=f.useRef(c),x=$(U),M=$(i),p=f.useCallback(()=>{if(!l.current||!m.current)return;let o={placement:t,strategy:r,middleware:P};M.current&&(o.platform=M.current),I(l.current,m.current,o).then(y=>{let R={...y,isPositioned:!0};S.current&&!h(g.current,R)&&(g.current=R,q.flushSync(()=>{k(R)}))})},[P,t,r,M]);w(()=>{O===!1&&g.current.isPositioned&&(g.current.isPositioned=!1,k(o=>({...o,isPositioned:!1})))},[O]);let S=f.useRef(!1);w(()=>(S.current=!0,()=>{S.current=!1}),[]),w(()=>{if(u&&(l.current=u),s&&(m.current=s),u&&s){if(x.current)return x.current(u,s,p);p()}},[u,s,p,x]);let F=f.useMemo(()=>({reference:l,floating:m,setReference:v,setFloating:C}),[v,C]),a=f.useMemo(()=>({reference:u,floating:s}),[u,s]),j=f.useMemo(()=>{let o={position:r,left:0,top:0};if(!a.floating)return o;let y=L(a.floating,c.x),R=L(a.floating,c.y);return D?{...o,transform:"translate("+y+"px, "+R+"px)",...z(a.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:y,top:R}},[r,D,a.floating,c.x,c.y]);return f.useMemo(()=>({...c,update:p,refs:F,elements:a,floatingStyles:j}),[c,p,F,a,j])}export{T as arrow,Z as autoPlacement,b as autoUpdate,ee as computePosition,te as detectOverflow,re as flip,ne as getOverflowAncestors,fe as hide,oe as inline,ie as limitShift,ce as offset,ue as platform,se as shift,ae as size,W as useFloating};
//# sourceMappingURL=react-dom.mjs.map